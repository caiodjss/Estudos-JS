<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formul치rio de Convite</title>
    <link rel="stylesheet" href="style.css">
    <script>
      document.addEventListener('DOMContentLoaded', function () {
          fetch('atletas.txt')
              .then(response => response.text())
              .then(data => {
                  const names = data.split('\n').filter(name => name.trim() !== '');
                  const select = document.getElementById('Atleta-Baba');
                  names.forEach(name => {
                      const option = document.createElement('option');
                      option.value = name.trim();
                      option.textContent = name.trim();
                      select.appendChild(option);
                  });
              })
              .catch(error => {
                  console.error('Erro ao carregar nomes:', error);
              });
      });

      document.addEventListener('DOMContentLoaded', function () {
          const form = document.getElementById('formulario');
          form.addEventListener('submit', function (e) {
              e.preventDefault(); // Impede o envio padr칚o do formul치rio

              const formData = new FormData(this);

              fetch('send_email.php', {
                  method: 'POST',
                  body: formData
              })
              .then(response => response.text())
              .then(result => {
                  document.getElementById('mensagem').innerText = 'Solicita칞칚o enviada!';
                  document.getElementById('mensagem').style.display = 'block';

                  // Limpa o formul치rio
                  this.reset();
              })
              .catch(error => {
                  document.getElementById('mensagem').innerText = 'Falha ao enviar o formul치rio.';
                  document.getElementById('mensagem').style.display = 'block';
              });
          });
      });
  </script>
</head>
<body style="display: flex; text-align: center; min-height: 100vh; flex-direction: column; width: 100%; max-width: 588px; margin: 56px auto 0px; padding: 0% 24px;">
    <div id="profile">
      <a href="index.html">
      <img src="./assets/avatar.png" alt="Logo Legado Baba Europeu 2018" /></a>
      <p>@babaeuropeu</p>
    </div>

    <div id="switch" onclick="toggleMode()">
      <button></button>
      <span></span>
    </div>
    
    <h1>Formul치rio de Convite<br></h1>
    <form id="formulario" action="send_email.php" method="post" enctype="application/x-www-form-urlencoded">
      <label for="Convidado">Nome do convidado:<br></label>
      <input type="text" id="Convidado" name="Convidado" required><br><br>

      <label for="Atleta-Baba">Nome de quem convidou: <br></label>
      <select id="Atleta-Baba" name="Atleta-Baba" required>
      </select><br><br>

      <label for="wpp-convidado">WhatsApp <br></label>
      <input type="tel" id="wpp-convidado" name="wpp-convidado" pattern="[0-9]{2}[0-9]{5}[0-9]{4}" placeholder="DD XXXXX-XXXX" required><br><br>

      <label for="data-convite">Data do Baba:<br></label>
      <input type="date" id="data-convite" name="data-convite" required><br><br>

      <label for="taxa-extra">Est치 de acordo com a taxa de 10 reais?<br></label>
      <select id="taxa-extra" name="taxa-extra" required>
          <option value="sim">Sim</option>
          <option value="nao">N칚o</option>
      </select><br><br>

      <input type="submit" value="Por o nome na lista">
</form>
<div id="mensagem"></div>

  <div id="social-links">
    <a
      href="https://play.google.com/store/apps/details?id=app.chegamais.com.chegamais"
      target="_blank"
      ><ion-icon name="logo-google-playstore"></ion-icon
    ></a>

    <a href="https://instagram.com/babaeuropeu" target="_blank"
      ><ion-icon name="logo-instagram"></ion-icon>
    </a>
    <a href="https://youtube.com/@babaeuropeu6979" target="_blank">
      <ion-icon name="logo-youtube"></ion-icon>
    </a>

    <a
      href="https://drive.google.com/drive/folders/1-Y7JlOJ66qIJEN0w7faHMyp7pttqyt25?usp=drive_link"
      target="_blank"
    >
      <ion-icon name="document-text-outline"></ion-icon>
    </a>
  </div>
  <div class="mapa-conteudo">
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3888.156974120068!2d-38.46610802450989!3d-12.961805359613228!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7161b8c2269040f%3A0xa0741424247f583a!2sConfedera%C3%A7%C3%A3o%20Baba%20Europeu!5e0!3m2!1spt-BR!2sbr!4v1721503796701!5m2!1spt-BR!2sbr"
      width="100%"
      height="315"rameborder="0" style="border: 0;" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
    ></iframe>
  </div>
  <footer>
    <p class="copyright">&copy; Feito com 游눜 pela <a href="https://caiodjss.github.io/bratso/" target="_blank">Br치tso</a></p>
  </footer>

  <script
    type="module"
    src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
  ></script>
  <script
    nomodule
    src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
  ></script>
  <script src="script.js"></script>
</body>
</html>
